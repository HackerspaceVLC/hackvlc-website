{{ define "main" }}

<section class="hero">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h1 class="has-animation">{{ .Site.Title }}</h1>
        <p class="lead has-animation">{{ .Site.Params.description }}</p>
        <div class="hero-buttons has-animation">
          <a href="{{ .Site.Params.primaryButtonURL | default "/#about" | relLangURL }}" class="btn btn-primary">
          {{ i18n "aboutButton" }}
          </a>
          <a href="{{ .Site.Params.secondaryButtonURL | default "/proyectos/" | relLangURL }}" class="btn btn-accent">
          {{ i18n "projectsButton" }}
          </a>
        </div>
      </div>
      <div class="col-lg-6 mt-5 mt-lg-0">
        {{ if .Site.Params.heroImage }}
        <img src="{{ .Site.Params.heroImage | relURL }}" alt="{{ .Site.Title }}" class="img-fluid hero-image has-animation">
        {{ end }}
      </div>
    </div>
  </div>
</section>

<section id="about" class="about-section py-5">
  <div class="container text-center">
    <div class="section-header has-animation">
      {{ i18n "aboutUs" }}
    </div>

    <div class="row g-4">
      <div class="col-md-4">
        <div class="card has-animation">
          <div class="card-body text-center">
            <div class="hexagon mx-auto mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>
              </svg>
            </div>
            <h4>{{ i18n "learningCommunity" }}</h4>
            <p>{{ i18n "learningCommunityDesc" }}</p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card has-animation">
          <div class="card-body text-center">
            <div class="hexagon mx-auto mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
              </svg>
            </div>
            <h4>{{ i18n "openSource" }}</h4>
            <p>{{ i18n "openSourceDesc" }}</p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card has-animation">
          <div class="card-body text-center">
            <div class="hexagon mx-auto mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
              </svg>
            </div>
            <h4>{{ i18n "creativeHackers" }}</h4>
            <p>{{ i18n "creativeHackersDesc" }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="activities" class="activities-section py-5">
  <div class="container text-center">
    <div class="section-header has-animation">
      {{ i18n "ourActivities" }}
    </div>

    <div class="row g-4">
      <div class="col-lg-3 col-md-6">
        <div class="card has-animation">
          <div class="card-body text-center">
            <div class="activity-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M2 12h20"></path>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
              </svg>
            </div>
            <h4>{{ i18n "globalNetwork" }}</h4>
            <p>{{ i18n "globalNetworkDesc" }}</p>
          </div>
        </div>
      </div>

      <div class="col-lg-3 col-md-6">
        <div class="card has-animation">
          <div class="card-body text-center">
            <div class="activity-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
              </svg>
            </div>
            <h4>{{ i18n "makerSpace" }}</h4>
            <p>{{ i18n "makerSpaceDesc" }}</p>
          </div>
        </div>
      </div>

      <div class="col-lg-3 col-md-6">
        <div class="card has-animation">
          <div class="card-body text-center">
            <div class="activity-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
              </svg>
            </div>
            <h4>{{ i18n "workshops" }}</h4>
            <p>{{ i18n "workshopsDesc" }}</p>
          </div>
        </div>
      </div>

      <div class="col-lg-3 col-md-6">
        <div class="card has-animation">
          <div class="card-body text-center">
            <div class="activity-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                <line x1="12" y1="22.08" x2="12" y2="12"></line>
              </svg>
            </div>
            <h4>{{ i18n "repairCafe" }}</h4>
            <p>{{ i18n "repairCafeDesc" }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{{ if .Site.Data.projects }}
<section id="portfolio" class="projects-section py-5">
  <div class="container text-center">
    <div class="section-header has-animation">
      {{ i18n "projects" }}
    </div>

    <div class="project-grid">
      {{ range first 6 .Site.Data.projects }}
      <div class="project-card has-animation">
        {{ if .image }}
        <img src="{{ .image | relURL }}" class="card-img-top" alt="{{ .title }}">
        {{ end }}
        <div class="card-body">
          <h5 class="card-title">{{ .title }}</h5>
          <p class="card-text">{{ .description }}</p>
          {{ if .link }}
          <a href="{{ .link | relLangURL }}" class="btn btn-primary">{{ i18n "seeMore" }}</a>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>

    <div class="text-center mt-5">
      <a href="{{ "proyectos" | relLangURL }}" class="btn btn-accent">{{ i18n "viewAllProjects" }}</a>
    </div>
  </div>
</section>
{{ end }}

<!-- Pricing Section -->
<section id="pricing" class="py-5">
  <div class="container text-center">
    <div class="section-header has-animation">
      {{ i18n "monthlyFee" }}
    </div>

    <div class="row justify-content-center">
      <!-- Cuota Reducida -->
      <div class="col-lg-5 col-md-6 mb-4 mb-md-0">
        <div class="card h-100 has-animation">
          <div class="card-body text-center py-5">
            <h3 class="mb-3">{{ i18n "reducedFee" }}</h3>
            <p class="text-muted mb-4">{{ i18n "reducedFeeExplanation" }}</p>
            <div class="pricing-value mb-4">
              <span class="display-4 fw-bold">10‚Ç¨</span>
              <span class="text-muted">/ {{ i18n "month" }}</span>
            </div>
            <ul class="list-unstyled mb-4">
              <li class="mb-2">üõ†Ô∏è {{ i18n "accessToWorkshopTools" }}</li>
              <li class="mb-2">üë• {{ i18n "activeMakerCommunity" }}</li>
              <li class="mb-2">üí¨ {{ i18n "communicationGroups" }}</li>
              <li class="mb-2">üí° {{ i18n "workshopsAndEvents" }}</li>
            </ul>
            <a href="{{ "pages/alta" | relLangURL }}" class="btn btn-primary">
            {{ i18n "joinNow" }}
            </a>
          </div>
        </div>
      </div>

      <!-- Cuota General -->
      <div class="col-lg-5 col-md-6">
        <div class="card h-100 has-animation">
          <div class="card-body text-center py-5">
            <h3 class="mb-3">{{ i18n "generalFee" }}</h3>
            <p class="text-muted mb-4">{{ i18n "generalFeeExplanation" }}</p>
            <div class="pricing-value mb-4">
              <span class="display-4 fw-bold">25‚Ç¨</span>
              <span class="text-muted">/ {{ i18n "month" }}</span>
            </div>
            <ul class="list-unstyled mb-4">
              <li class="mb-2">üõ†Ô∏è {{ i18n "accessToWorkshopTools" }}</li>
              <li class="mb-2">üë• {{ i18n "activeMakerCommunity" }}</li>
              <li class="mb-2">üí¨ {{ i18n "communicationGroups" }}</li>
              <li class="mb-2">üí° {{ i18n "workshopsAndEvents" }}</li>
            </ul>
            <a href="{{ "pages/alta" | relLangURL }}" class="btn btn-primary">
            {{ i18n "joinNow" }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contact Section -->
<section id="contact" class="py-5 bg-secondary-subtle">
  <div class="container text-center">
    <div class="section-header has-animation">
      {{ i18n "contact" }}
    </div>

    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card has-animation">
          <div class="card-body py-5">
            <div class="row">
              <div class="col-md-6 mb-4 mb-md-0">
                <div class="contact-info">
                  <i class="fa-solid fa-location-dot mb-3 fs-3 text-primary"></i>
                  <h5>{{ i18n "location" }}</h5>
                  <p>{{ $.Site.Params.location | safeHTML }}</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="contact-info">
                  <i class="fa-solid fa-envelope mb-3 fs-3 text-primary"></i>
                  <h5>{{ i18n "email" }}</h5>
                  <p><a href="mailto:{{ $.Site.Params.email }}">{{ $.Site.Params.email }}</a></p>
                </div>
              </div>
            </div>
            <div class="mt-4">
              <div id="contact-map" class="mt-4 rounded" style="height: 300px; width: 100%;"></div>

              <!-- Cargar Leaflet CSS y JS manualmente aqu√≠ para asegurar que est√©n disponibles -->
              <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
              <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

              <script>
                document.addEventListener('DOMContentLoaded', function() {
                  // Esperar un momento para asegurarnos que Leaflet est√° cargado completamente
                  setTimeout(function() {
                    if (typeof L !== 'undefined') {
                      // Coordenadas del Hackerspace Valencia
                      var lat = {{ $.Site.Params.mapLatitude | default "39.488339464485364" }};
                      var lng = {{ $.Site.Params.mapLongitude | default "-0.35849245006843755" }};

                      // Inicializa el mapa
                      var map = L.map('contact-map').setView([lat, lng], 16);

                      // A√±ade el layer de OpenStreetMap
                      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                      }).addTo(map);

                      // A√±ade un marcador en la ubicaci√≥n del Hackerspace
                      var marker = L.marker([lat, lng]).addTo(map);
                      marker.bindPopup("<b>Hackerspace Valencia</b><br>{{ $.Site.Params.location | safeHTML }}").openPopup();
                    } else {
                      console.error("Leaflet (L) no est√° disponible despu√©s de cargar");
                      document.getElementById('contact-map').innerHTML = "<p>No se pudo cargar el mapa. Por favor, recarga la p√°gina.</p>";
                    }
                  }, 500); // Esperar 500ms para asegurarse que todo est√° cargado
                });
              </script>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{{ end }}